<?xml version="1.0" encoding="utf-8"?>
<!--
  网络安全配置

  安全策略：
  1. 默认不允许明文HTTP流量（只允许HTTPS）
  2. 仅对开发环境域名允许明文流量
  3. 生产环境必须使用HTTPS
-->
<network-security-config>
    <!-- 基础配置：默认不允许明文流量 -->
    <base-config cleartextTrafficPermitted="false">
        <trust-anchors>
            <certificates src="system" />
        </trust-anchors>
    </base-config>

    <!-- 开发环境配置：仅允许特定域名使用明文流量 -->
    <domain-config cleartextTrafficPermitted="true">
        <!-- 本地开发环境 -->
        <domain includeSubdomains="true">localhost</domain>
        <domain includeSubdomains="true">10.0.2.2</domain> <!-- Android模拟器访问主机 -->

        <!-- 内网开发环境（可根据实际开发环境修改） -->
        <domain includeSubdomains="true">192.168.130.128</domain>

        <!-- 信任系统证书和用户证书（便于开发环境使用自签名证书） -->
        <trust-anchors>
            <certificates src="system" />
            <certificates src="user" />
        </trust-anchors>
    </domain-config>
</network-security-config>